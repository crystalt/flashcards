<head>
  <title>qna</title>
</head>

<body>
<div class="header navbar navbar-inverse">
  <div class="navbar-inner">
    <a class="brand" href="#">ArrayList</a>
    <ul class="nav">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Link</a></li>
    </ul>
  </div>
</div>

{{> main}}

</body>

<template name="main">
  {{#if loggedIn}}
  {{> mainLoggedIn}}
  {{else}}
  {{> mainLogin}}
  {{/if}}
</template>

<template name="mainLogin">
  <div class="container">
    {{#if register}}
    {{> register}}
    {{else}}
    {{> login}}
    {{/if}}
  </div>

</template>

<template name="mainLoggedIn">
  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span2">
        <div class="well sidebar-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Tags</li>
            <li>Tag 1</li>
            <li>Tag 1</li>
            <li>Tag 1</li>
            <li>Tag 1</li>
            {{> renderTags}}
            <li class="nav-header">Users</li>
            {{> renderUsers}}
          </ul>
        </div>
      </div>
      <div class="span10">
        <div class="pull-right">
          <a id="logout">Logout</a>
        </div>
        {{updateAllRooms}}
        {{> changeRoom}}
        {{> createRoom}}
        {{> invitePeople}}
        {{#if currRoom}}
          {{> questions}}
          {{#if commenting}}
            {{> comments}}
          {{/if}}
        {{/if}}
      </div>
    </div>
  </div>
</template>

<template name="renderUsers">
  <div id="user-filter" class="user-list">
    <div class="label"> Show:</div>
    {{#each users}}
    <div class="tag {{selected}}">
      {{user_text}} <span class="count">({{count}})</span>
    </div>
  {{/each}}
  </div>
</template>

<template name="renderTags">
  <div>
    Hello.
  </div>
  <div>
    Hello.
  </div>
  <div>
    Hello.
  </div>
</template>

<template name="hello">
  <h1>Hello World!</h1>
  {{greeting}}
  <input type="button" value="Click"/>
</template>

<template name="invitePeople">
  {{#if isAdmin}}
  <h3>Invite People</h3>

  <form id="invitePeople" class="form-horizontal">
    <div class="invites">
      <input type="email" placeholder="Email address">
    </div>
    <input type="text" class="cursorHand" placeholder="Click to add another email." data-action="add">
    <input type="submit" class="btn btn-primary" value="Invite People">
  </form>
  {{/if}}
</template>

<template name="changeRoom">
  <p>This be your current room: {{currentRoom.name}}</p>

  <form class="form-inline">

    <select id="changeRoom">
      {{#each rooms}}
      <option value="{{_id}}">{{name}}</option>
      {{/each}}
    </select>

  </form>

</template>

<template name="createRoom">
  <h3>You have no rooms. Create a new room.</h3>

  <form class="form-inline">
    <input type="text" placeholder="Name of room">
    <input type="submit" class="btn btn-primary" value="Create room">
  </form>
  {{updateAllRooms}}
</template>

<template name="questions">
  <h3>Ask some questions</h3>
  <input type="text" id="questionInput" placeholder="What's your question?">
  <ul id="questions">
    {{#each questionList}}
      {{> question}}
    {{/each}}
  </ul>
</template>

<template name="question">
  <li>
    {{text}} <span class="label label-info">{{asker}}</span> <span class="label">{{humanTime}}</span>
    <input type="button" value="Add comment" class="addComment">
  </li>
</template>

<template name="comments">
  <h2>
    {{question}}
    <span class="label label-info">{{asker}}</span> <span class="label">{{humanTime}}</span>
  </h2>

  {{#each commentList}}
    {{> commentItem}}
  {{/each}}

  <textarea></textarea>
  <br>
  <input type="button" value="Add comment" class="addComment">
</template>

<template name="commentItem">
  <pre>{{this}}</pre>
</template>